import{_ as C,b as E,r as u,d as L,c as l,o as i,a as n,F as j,e as M,f as b,w as _,n as $,t as k,g as H,h as T,v as N,i as S,j as h}from"./index-CwE1FoS9.js";const P={class:"selection-component-buttons"},V={__name:"SelectionComponent",props:{text:{type:String,required:!0}},emits:["text-highlighted"],setup(p,{emit:r}){const s=p,a=r,w=E(()=>s.text.split(" ")),c=u(!1),t=u([]),g=u(null),d=()=>{t.value.forEach(e=>{e.classList.remove("highlighted")}),t.value=[],c.value=!1,window.getSelection().removeAllRanges(),document.removeEventListener("click",f)},f=async e=>{await new Promise(o=>setTimeout(o,100)),!e.target.closest(".selection-component-text")&&!e.target.closest(".selection-component-buttons")&&d()},x=async()=>{await $();const e=window.getSelection();if(e.rangeCount===0||e.isCollapsed){d();return}const o=e.getRangeAt(0);if(e.toString().trim().length===0){d();return}const m=g.value;if(!m.contains(o.commonAncestorContainer))return;m.querySelectorAll(".selection-component-word").forEach(z=>{e.containsNode(z,!0)&&(t.value.push(z),z.classList.add("highlighted"),c.value=!0)}),e.removeAllRanges(),document.addEventListener("click",f)},A=()=>{const e=t.value.map(o=>o.textContent.trim()).join(" ");a("text-highlighted",{text:e,reset:!1}),d()},B=()=>{a("text-highlighted",{text:s.text,reset:!0}),d()};return L(()=>{document.removeEventListener("click",f)}),(e,o)=>(i(),l("div",{ref_key:"textContainer",ref:g,class:"selection-component"},[n("div",{class:"selection-component-text",onMouseup:x,onTouchend:x},[(i(!0),l(j,null,M(w.value,(y,m)=>(i(),l("span",{key:`${y}-${m}`,class:"selection-component-word"},k(y)+k(m<w.value.length-1?" ":""),1))),128))],32),n("div",P,[c.value?(i(),l("div",{key:0,class:"selection-component-button confirm-button",onClick:_(A,["stop"])},o[0]||(o[0]=[n("span",{class:"info-icon"},"Zatwierdź zaznaczenie ✔",-1)]))):b("",!0),n("div",{class:"selection-component-button clear-button",onClick:_(B,["stop"])},o[1]||(o[1]=[n("span",{class:"info-icon"},"Wyczyść zaznaczenie ✘",-1)]))])],512))}},I=C(V,[["__scopeId","data-v-cc6fb86e"]]),R={class:"rank-item-component"},W={class:"rank-item-component-content"},q={__name:"ItemComponent",setup(p){const r=u("Test fasdf asdfasd fa dfa"),s=u("Swoją postawą propaguje harcerski system wartości wynikający z Przyrzeczenia i Prawa Harcerskiego. Poznaje siebie i motywy swojego postępowania. Pracuje nad własnymi słabościami i rozwija zdolności. Jest wzorem dla harcerzy. We współdziałaniu z dziećmi i młodzieżą znajduje radość, umie być starszym kolegą i przewodnikiem. Bierze aktywny udział w życiu drużyny, świadomie stosując metodę harcerską i wykorzystując przykład osobisty do realizacji celów wychowawczych. Ma poczucie odpowiedzialności za pracę i powierzoną grupę. Współtworzy hufcową wspólnotę. Ma świadomość wychowawczej roli służby w harcerstwie."),a=u(s.value),w=c=>{c.reset?a.value=s.value:a.value=c.text};return(c,t)=>(i(),l("div",R,[n("div",W,[t[1]||(t[1]=n("h2",null,"Nazwa",-1)),t[2]||(t[2]=n("h3",null,"Treść",-1)),H(n("textarea",{"onUpdate:modelValue":t[0]||(t[0]=g=>r.value=g)},null,512),[[N,r.value]]),a.value?(i(),T(I,{key:0,text:a.value,onTextHighlighted:w},null,8,["text"])):b("",!0)]),t[3]||(t[3]=n("div",{class:"rank-item-component-comments"},null,-1))]))}},v=C(q,[["__scopeId","data-v-3b28225f"]]),D=S({__name:"RankComponent",setup(p){return(r,s)=>(i(),l(j,null,[s[0]||(s[0]=n("h1",null,"Header",-1)),n("div",null,[h(v),h(v),h(v),h(v)])],64))}}),J=S({__name:"MyAdvancementView",setup(p){return(r,s)=>(i(),T(D))}});export{J as default};
